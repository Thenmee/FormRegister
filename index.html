<!doctype html>
<html lang="en">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@200;300&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css"
        integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css"
        integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous">
    <title>Dunia's Portfolio</title>
</head>

<body>

    <!DOCTYPE html>
    <html lang="en">

    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Document</title>
    </head>

    <body style="height: 100%; width: 100%; padding:0; margin:0; ">
            <div class="card border-info my-4" style="width: 30rem; margin: auto;">
                <div class="card-header">
                 Form Registeration
                  </div>
                  <div class="card-body">
                  <form id="regform" onchange="changebtn()" >
                    <div class="form-group">
                        <label for="name">Name:</label>
                        <input type="text" class="form-control" id="name" placeholder="Name" maxlength="8"  oninput="checknamevalidation()" required>
                        <div id="validationname" class="text-danger">
                        </div>
                      </div>
                    <div class="form-group">
                      <label for="email">Email:</label>
                      <input type="email" class="form-control" id="email"  placeholder="Enter email" oninput="checkemailvalidation()">
                      <div id="validationemail" class="text-danger">
                      </div>
                    </div>
                    <div class="form-group">
                      <label for="password">Password</label>
                      <input type="password" class="form-control" id="password" maxlength="8" placeholder="Enter Password" oninput="checkepasswordvalidation()">
                      <div id="validationpassword" class="text-danger">
                      </div>
                    </div>
                    <div class="form-group">
                        <label for="confirmpassword">Confirm Password:</label>
                        <input type="password" class="form-control" id="confirmpassword" maxlength="8" placeholder="Enter ConfirmPassword" oninput="checkpassowrdconfirmvalidation()">
                        <div id="validationconfirmpassword" class="text-danger">
                        </div>
                      </div>
                      <div class="form-group">
                        <label for="websiteurl">Website Url:</label>
                        <input type="text" class="form-control" id="websiteurl" placeholder="Enter website URL"  required oninput="checkwebsiteurlvalidation()">
                        <div id="validationwebsiteurl" class="text-danger">
                        </div>
                      </div>
                      <div class="form-group">
                        <label for="birthdate">Birthdate:</label>
                        <input type="date" class="form-control" id="birthdate" required oninput="checkbirthdatevalidation()">
                        <div id="validationbirthdate" class="text-danger">
                        </div>
                      </div>
                    <button type="submit"  class="btn btn-primary">Submit</button>
                  </form>
                </div>
                <div class="card-footer text-muted">
                   Thank you ..
                  </div>
              
            </div>
           
            

        <!-- Optional JavaScript -->
        <!-- jQuery first, then Popper.js, then Bootstrap JS -->
        <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"
            integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj"
            crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"
            integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo"
            crossorigin="anonymous"></script>
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js"
            integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI"
            crossorigin="anonymous"></script>
        <script>
      const  email =/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/
      const pass= /^(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[^a-zA-Z0-9])(?!.*\s).{6,8}$/
      const url = new RegExp('^(https?:\\/\\/)?'+  '((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|'+ '((\\d{1,3}\\.){3}\\d{1,3}))'+'(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*'+'(\\?[;&a-z\\d%_.~+=-]*)?'+ '(\\#[-a-z\\d_]*)?$','i'); 

var regform = document.getElementById("regform");

const button = document.querySelector('button')
button.disabled = true
function changebtn(){
  regform[5].value 
        var dateText =  regform[5].value.split("-");
        month = dateText[1];
        day = dateText[2];
        year = dateText[0];
        var date = new Date(year, month, day);
        var today = new Date();
        var mili_dif = Math.abs(today.getTime() - date.getTime());
        var age = (mili_dif / (1000 * 3600 * 24 * 365.25));
if(regform[0].value!='' &&  email.test(regform[1].value) && pass.test(regform[2].value) && (regform[3].value=== regform[2].value) && url.test(regform[4].value) && (age > 18.00))
{button.disabled = false
}
else{
    button.disabled = true
}
}

 function checknamevalidation () {
   const namevalid=  document.getElementById("validationname")
    if(regform[0].value==''){
        namevalid.innerHTML ='The Name field is required'
        namevalid.style.display ='block';
    }
    if(regform[0].value!=''){
        namevalid.style.display ='none';
       
        
    }
}
function checkemailvalidation () {
    const emailvalid= document.getElementById("validationemail")
    
    if(regform[1].value==''){
        emailvalid.innerHTML ='The Email field is required'

        emailvalid.style.display ='block';
     
        
    }
    if(regform[1].value!=''){
      //  emailvalid.style.display ='none';
       if (email.test(regform[1].value))
  {
    emailvalid.style.display ='none';
  }
  else{
    emailvalid.innerHTML ='Please type a valid Email'
    emailvalid.style.display ='block';

  }
        
    }
}
function checkepasswordvalidation () {
    const passvalid =document.getElementById("validationpassword")
    if(regform[2].value==''){
        passvalid.innerHTML ='The Password field is required'
        passvalid.style.display ='block';
       
        
    }
    if(regform[2].value!=''){
      //  emailvalid.style.display ='none';
   
       if (pass.test(regform[2].value))
  {
    passvalid.style.display ='none';
  }
  else{
   passvalid.innerHTML ='The Passwords must contain at least six characters, including uppercase, lowercase letters , numbers and unique character'
    passvalid.style.display ='block';

  }
    }
}
function checkpassowrdconfirmvalidation () {

   const passconfirm =  document.getElementById("validationconfirmpassword")
    if(regform[3].value==''){
        passconfirm.innerHTML ='The Confirm Password field is required'
        passconfirm.style.display ='block';
       
        
    }
    if(regform[3].value!=''){
      if(regform[3].value!== regform[2].value)
      {
        passconfirm.innerHTML ='The Confirm Password not same'
        passconfirm.style.display ='block';
      }else{
        passconfirm.style.display ='none';
      }
        
    }
}
function checkwebsiteurlvalidation () {
   const urlvalid =  document.getElementById("validationwebsiteurl")
    if(regform[4].value==''){
        urlvalid.innerHTML ='The URL field is required'
        urlvalid.style.display ='block';
  
        
    }
    if(regform[4].value!=''){
        if (url.test(regform[4].value))
  {
    urlvalid.style.display ='none';
  }
  else{
    urlvalid.innerHTML ='The Website URL must be Valid url'
    urlvalid.style.display ='block';

  }
       
        
    }
}
function checkbirthdatevalidation () {
   const bdvalid =  document.getElementById("validationbirthdate")
   console.log(regform[5].value)
    if(regform[5].value==''){
      bdvalid.innerHTML ='The BirthDate field is required'
      bdvalid.style.display ='block';
  
        
    }
    if(regform[5].value!=''){
        regform[5].value 
        var dateText =  regform[5].value.split("-");
        month = dateText[1];
        day = dateText[2];
        year = dateText[0];
        var date = new Date(year, month, day);
        var today = new Date();
        var mili_dif = Math.abs(today.getTime() - date.getTime());
        var age = (mili_dif / (1000 * 3600 * 24 * 365.25));

        if(age <18.00)
        {
          bdvalid.innerHTML ='You have to be 18 or older'
      bdvalid.style.display ='block';
        }
        else{
          bdvalid.style.display ='none';
        }
       
    }
}

        </script>
    </body>

    </html>